<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tharaga</title>
  <link rel="stylesheet" href="style.css">

  <!-- ✅ OTP + Form styles -->
  <style>
    /* Container hover */
    #buyer-intake form {
      background:#FAF5EF;
      border-radius:14px;
      padding:20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    #buyer-intake form:hover {
      transform: translateY(-2px);
      box-shadow: 0 16px 36px rgba(110, 13, 37, 0.16);
    }

    /* Grid for two columns */
    .grid-2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    /* Special row for Phone + OTP button */
    .grid-right-btn {
      align-items: end;
    }

    /* OTP inputs */
    .otp-container {
      display:flex;
      gap:8px;
      justify-content:center;
      margin-bottom:12px;
    }
    .otp-input {
      width: 42px;
      height: 50px;
      font-size: 20px;
      text-align: center;
      border: 2px solid #ccc;
      border-radius: 8px;
      transition: border-color 0.2s ease;
    }
    .otp-input:focus {
      border-color: #0e0e0e;
      outline: none;
    }

    /* Responsive: stack on mobile */
    @media (max-width: 768px) {
      .grid-2 {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>  

<!-- ===== Verified Buyer Form ===== -->
<section id="buyer-intake" style="max-width: 760px; margin: 0 auto; padding: 24px;">
  <h3 style="font-family: 'Poppins', sans-serif; font-weight: 600; text-align:center; margin-bottom: 12px;">
    Get Matched to Verified Properties
  </h3>
  <p style="text-align:center; margin:0 0 16px;">OTP-verified leads only. No spam. No brokerage.</p>

  <form name="buyer-intake" method="POST" data-netlify="true"
        netlify-honeypot="bot-field" data-netlify-recaptcha="true"
        id="buyerForm">

    <!-- Hidden helpers -->
    <input type="hidden" name="form-name" value="buyer-intake" />
    <p style="display:none;"><label>Don’t fill this out: <input name="bot-field" /></label></p>
    <input type="hidden" name="utm_source" id="utm_source">
    <input type="hidden" name="utm_medium" id="utm_medium">
    <input type="hidden" name="utm_campaign" id="utm_campaign">
    <input type="hidden" name="referrer" id="referrer">
    <input type="hidden" name="otp_verified" id="otp_verified" value="false">

    <!-- Name + Email -->
    <div class="grid-2">
      <label><span>Name</span>
        <input required type="text" name="name" placeholder="Your full name">
      </label>
      <label><span>Email</span>
        <input required type="email" name="email" placeholder="you@example.com">
      </label>
    </div>

    <!-- Phone + OTP button -->
    <div class="grid-2 grid-right-btn">
      <label><span>Phone (India)</span>
        <input required type="tel" name="phone" id="phone"
               pattern="^[6-9]\\d{9}$" placeholder="10-digit mobile number">
      </label>
      <button type="button" id="sendOtpBtn">Send OTP</button>
    </div>

    <!-- OTP Box -->
    <div id="otpBlock" style="display:none; margin-top:12px; text-align:center;">
      <div class="otp-container">
        <input type="text" maxlength="1" class="otp-input">
        <input type="text" maxlength="1" class="otp-input">
        <input type="text" maxlength="1" class="otp-input">
        <input type="text" maxlength="1" class="otp-input">
        <input type="text" maxlength="1" class="otp-input">
        <input type="text" maxlength="1" class="otp-input">
      </div>
      <button type="button" id="verifyOtpBtn">Verify OTP</button>
      <small id="otpStatus"></small>
    </div>

    <!-- City + Budget -->
    <div class="grid-2">
      <label><span>Preferred City / Area</span>
        <input required type="text" name="location" placeholder="e.g., Anna Nagar, OMR, Coimbatore">
      </label>
      <label><span>Budget</span>
        <select required name="budget">
          <option value="">Select</option>
          <option>₹50L – ₹1Cr</option>
          <option>₹1Cr – ₹2Cr</option>
          <option>₹2Cr – ₹3Cr</option>
          <option>₹3Cr+</option>
        </select>
      </label>
    </div>

    <!-- Property Type + Timeline -->
    <div class="grid-2">
      <label><span>Property Type</span>
        <select required name="property_type">
          <option value="">Select</option>
          <option>Apartment</option>
          <option>Villa</option>
          <option>Plot</option>
          <option>Commercial</option>
        </select>
      </label>
      <label><span>Buying Timeline</span>
        <select required name="timeline">
          <option value="">Select</option>
          <option>ASAP (0–30 days)</option>
          <option>1–3 months</option>
          <option>3–6 months</option>
          <option>Just researching</option>
        </select>
      </label>
    </div>

    <!-- Financing -->
    <label><span>Financing</span>
      <select required name="financing">
        <option value="">Select</option>
        <option>Loan pre-approved</option>
        <option>Loan required</option>
        <option>Self-funded</option>
      </select>
    </label>

    <!-- Notes -->
    <label><span>Anything else?</span>
      <textarea name="notes" rows="3" placeholder="Bedrooms, amenities, exact localities..."></textarea>
    </label>

    <!-- Captcha + Submit -->
    <div data-netlify-recaptcha="true"></div>
    <button id="submitBtn" type="submit" disabled>Get My Property Matches</button>
    <small>By submitting, you agree to be contacted by Tharaga. OTP verification is required to prevent spam.</small>
  </form>

  <div id="otp-recaptcha" style="height:0;"></div>
</section>

<!-- ===== Firebase OTP Script (unchanged logic) ===== -->
<script type="module">
  /* ✅ Your JS stays same (no logic change) */
</script>
</body>
</html>
